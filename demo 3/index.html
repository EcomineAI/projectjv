<?php
// ABELLO, JUNE VIC M.
// BSCS 2A
// --- Problem 1: Vehicles ---
class Vehicle {
    public $brand;
    public function __construct($b) { $this->brand = $b; }
    public function drive() { echo "The vehicle is moving.\n"; }
}

class Car extends Vehicle {
    public function drive() { echo "The car is driving on the road.\n"; }
}

class Bicycle extends Vehicle {
    public function drive() { echo "The bicycle is being pedaled.\n"; }
}

// --- Problem 2: Employees ---
class Employee {
    public $name;
    public function __construct($n) { $this->name = $n; }
    public function work() { echo "Employee is working.\n"; }
}

class Teacher extends Employee {
    public $subject;
    public function __construct($n, $s) { parent::__construct($n); $this->subject = $s; }
    public function work() { echo "Teaching {$this->subject}.\n"; }
}

class Developer extends Employee {
    public $language;
    public function __construct($n, $l) { parent::__construct($n); $this->language = $l; }
    public function work() { echo "Coding in {$this->language}.\n"; }
}

// --- Problem 3: Shapes ---
class Shape {
    public function area() { return "Area formula not defined."; }
}

class Circle extends Shape {
    public $r; // radius
    public function __construct($r) { $this->r = $r; }
    public function area() { return M_PI * $this->r * $this->r; }
}

class Rectangle extends Shape {
    public $l, $w; // length, width
    public function __construct($l, $w) { $this->l = $l; $this->w = $w; }
    public function area() { return $this->l * $this->w; }
}

// --- Problem 4: Bank Accounts ---
class BankAccount {
    public $balance;
    public function __construct($b) { $this->balance = $b; }
    public function deposit($a) { $this->balance += $a; }
    public function withdraw($a) { $this->balance -= $a; }
}

class SavingsAccount extends BankAccount {
    public function withdraw($a) {
        if ($this->balance < $a) { echo "Withdrawal failed: Insufficient funds.\n"; return; }
        parent::withdraw($a);
    }
}

class CheckingAccount extends BankAccount {
    public $limit = 100;
    public function withdraw($a) {
        if (($this->balance - $a) < -$this->limit) { echo "Withdrawal failed: Overdraft limit exceeded.\n"; return; }
        parent::withdraw($a);
    }
}

// --- Problem 5: Animals (Polymorphism) ---
abstract class Animal {
    public $name;
    public function __construct($n) { $this->name = $n; }
    abstract public function makeSound();
}

class Dog extends Animal { public function makeSound() { return "Woof!"; } }
class Cat extends Animal { public function makeSound() { return "Meow!"; } }
class Bird extends Animal { public function makeSound() { return "Chirp!"; } }

// --- Problem 6: Online Store Products ---
class Product {
    public $name;
    public function __construct($n) { $this->name = $n; }
    public function getDetails() { return "Product details not available ({$this->name})."; }
}

class Book extends Product {
    public $author;
    public function __construct($n, $a) { parent::__construct($n); $this->author = $a; }
    public function getDetails() { return "Book: {$this->name} by {$this->author}."; }
}

class Clothing extends Product {
    public $size;
    public function __construct($n, $s) { parent::__construct($n); $this->size = $s; }
    public function getDetails() { return "Clothing: {$this->name}, Size: {$this->size}."; }
}

// --- Problem 7: University Members ---
class Person {
    public $name;
    public function __construct($n) { $this->name = $n; }
    public function introduce() { echo "Hello, I'm a person ({$this->name}).\n"; }
}

class Student extends Person {
    public $major;
    public function __construct($n, $m) { parent::__construct($n); $this->major = $m; }
    public function introduce() { echo "I am a student majoring in {$this->major}.\n"; }
}

class Professor extends Person {
    public $dept;
    public function __construct($n, $d) { parent::__construct($n); $this->dept = $d; }
    public function introduce() { echo "I am a professor from the {$this->dept} department.\n"; }
}

echo "--- 1. Vehicles ---\n";
(new Car("T", 2022, 4))->drive();
(new Bicycle("B", 2024, "M"))->drive();

echo "\n--- 2. Employees ---\n";
(new Teacher("Alice", "Math"))->work();
(new Developer("Bob", "PHP"))->work();

echo "\n--- 3. Shapes ---\n";
echo "Circle area (r=5): " . round((new Circle(5))->area(), 2) . "\n";
echo "Rectangle area (10x4): " . (new Rectangle(10, 4))->area() . "\n";

echo "\n--- 4. Bank Accounts ---\n";
$savings = new SavingsAccount(100);
$checking = new CheckingAccount(50);
$savings->withdraw(50); // Success
$savings->withdraw(100); // Fail
$checking->withdraw(100); // Success (Balance: -50)
$checking->withdraw(60);  // Fail (Exceeds -100 limit)

echo "\n--- 5. Animals (Polymorphism) ---\n";
$animals = [ new Dog("Fido"), new Cat("W"), new Bird("T") ];
foreach ($animals as $a) {
    echo "{$a->name} says: {$a->makeSound()}\n";
}

echo "\n--- 6. Online Store Products ---\n";
echo (new Book("OOP", "J. Doe"))->getDetails() . "\n";
echo (new Clothing("Shirt", "L"))->getDetails() . "\n";

echo "\n--- 7. University Members ---\n";
(new Student("Sara", "CS"))->introduce();
(new Professor("Dr. Lee", "Physics"))->introduce();

?>
